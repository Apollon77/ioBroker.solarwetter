<html>

    <!-- these 4 files always have to be included -->
    <link rel="stylesheet" type="text/css" href="../../lib/css/themes/jquery-ui/redmond/jquery-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../lib/css/jquery.multiselect-1.13.css"/>

    <script type="text/javascript" src="../../lib/js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../../socket.io/socket.io.js"></script>
    <script type="text/javascript" src="../../lib/js/jquery-ui-1.10.3.full.min.js"></script>

    <!-- these two file always have to be included -->
    <link rel="stylesheet" type="text/css" href="../../css/adapter.css"/>
    <script type="text/javascript" src="../../js/translate.js"></script>
    <script type="text/javascript" src="../../js/adapter-settings.js"></script>

    <!-- List of Postcodes-->
    <script type="text/javascript" src="plz.js"></script>

    <style>
        .description {
            font-size: smaller;	
        }
        .headline {
        	padding-top: 20px;
        	padding-left: 10px;
        }
        .subline {
        
        }
        .copyright {
           color: gray;
           font-style: italic;
           font-size: smaller;
        }
    </style>

    <script type="text/javascript">
    	systemDictionary = {
            "solarwetter Adapter settings": {
                "en": "solarwetter Adapter settings",
                "de": "solarwetter Adapter Einstellungen",
                "ru": "Настройки solarwetter Adapter"
            },
            "Postcode": {
                "en": "Post code area",
                "de": "Postleitzahlenbereich",
                "ru": "Translate please: Postleitzahlenbereich"
            },
            "Description": {
                "en": "Choose your area by selecting the post code",
                "de": "Bitte wählen sie den gewünschten PLZ-Bereich aus",
                "ru": "Translate to ru please: Choose your area by selecting the post code"
            },
            "Copyright": {
                "en": "Data provided by solar-wetter.com",
                "de": "Daten von solar-wetter.com",
                "ru": "Translate to ru please: Data provided by solar-wetter.com"
            },
            "Device": {
                "en": "Solar plant",
                "de": "Solaranlage",
                "ru": "Translate to ru please: Solar plant"
            },
            "Device_power": {
                "en": "Power of your device",
                "de": "Geben Sie die Gesamtleistung Ihrer Anlage ein",
                "ru": "Translate to ru please: Geben Sie die Gesamtleistung Ihrer Anlage ein"
            }
        };
   
        function load(settings, onChange) {
            $('#location').val(settings.location).change(onChange).keyup(onChange);
              
            // ggf. attribut "selected" für option noch realisieren          
            var text = '';
            for (var p in plz) {
                text += '<option value="' + plz[p] + '">' + plz[p] + '</option>\n';
            }
            $('#areacodelist').append(text);
           
            $('#power').val(settings.power).change(onChange).keyup(onChange);
            onChange(false);
        }
        
        function save(callback) {
            callback({location: $('#location').val(), power: $('#power').val().replace(/,/, ".")});
        }
    </script>

    <div id="adapter-container">
        <table style="width: 100%">
    	    <tr>
                <td><img src="solarwetter.png"></td>
                <td class="headline"><h3 class="translate">solarwetter Adapter settings</h3></td>
            </tr>
        </table>
        <h4 class="translate subline" style="width: calc(100% - 10px)">Postcode</h4>
        <table style="width: calc(100% - 5px)">
            <tr>
                <td>
                    <select class="value" id="location">
                        <optgroup label='Region' id="areacodelist">
                        <!-- areacodelist from plz.js will be pasted here by skript -->
                        </optgroup>
                    </select>
                </td> 
                <td class="translate description">Description</td>
            </tr>
            <tr>    
                <td class="translate copyright">Copyright</td>
            </tr>
        </table>
        <h4 class="translate subline" style="width: calc(100% - 10px)">Device</h4>
        <table id="owndevice" style="margin-top: 20px; width: calc(100% - 5px)">
            <tr>
                <td ><input type="text" id="power" class="value" size="10"/> kWp</td>
                <td class="translate description">Device_power</td>
            </tr>
        </table>
    </div>
</html>
